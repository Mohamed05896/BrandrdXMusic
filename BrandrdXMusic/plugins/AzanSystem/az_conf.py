import os
from motor.motor_asyncio import AsyncIOMotorClient
from config import MONGO_DB_URI, OWNER_ID as CONFIG_OWNER_ID

# --- [ 1. ุฅุนุฏุงุฏ ุงููุงูู ] ---
try:
    MAIN_OWNER = int(os.getenv("OWNER_ID"))
except:
    if isinstance(CONFIG_OWNER_ID, list): 
        MAIN_OWNER = CONFIG_OWNER_ID[0]
    elif isinstance(CONFIG_OWNER_ID, int): 
        MAIN_OWNER = CONFIG_OWNER_ID
    else: 
        MAIN_OWNER = 0

DEVS = [MAIN_OWNER]
SECOND_DEV_ID = 8462240673
if SECOND_DEV_ID not in DEVS:
    DEVS.append(SECOND_DEV_ID)

AZAN_GROUP = 57

# --- [ 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ] ---
db_client = AsyncIOMotorClient(MONGO_DB_URI)
settings_db = db_client.BrandrdX.azan_final_pro_db
resources_db = db_client.BrandrdX.azan_resources_final_db
azan_logs_db = db_client.BrandrdX.admin_system_v3_db.azan_logs

# --- [ 3. ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ] ---
local_cache = {}
admin_state = {}

# --- [ 4. ุงูุซูุงุจุช ูุงูุฃุณูุงุก ] ---
PRAYER_NAMES_AR = {
    "Fajr": "ุงููุฌุฑ", 
    "Dhuhr": "ุงูุธูุฑ", 
    "Asr": "ุงูุนุตุฑ", 
    "Maghrib": "ุงููุบุฑุจ", 
    "Isha": "ุงูุนุดุงุก"
}
PRAYER_NAMES_REV = {v: k for k, v in PRAYER_NAMES_AR.items()}

# --- [ 5. ุงูุฃุฏุนูุฉ ] ---
MORNING_DUAS = [
     "ุงูููู ุจู ุฃุตุจุญูุงุ ูุจู ุฃูุณููุงุ ูุจู ูุญูุงุ ูุจู ูููุชุ ูุฅููู ุงููุดูุฑ ๐ค",
    "ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ูููุ ูุงูุญูุฏ ูููุ ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ูู ๐",
    "ุงูููู ุฅูู ุฃุณุฃูู ุฎูุฑ ูุฐุง ุงููููุ ูุชุญูุ ููุตุฑูุ ูููุฑูุ ูุจุฑูุชูุ ููุฏุงู ๐ค",
    "ุฑุถูุช ุจุงููู ุฑุจุงูุ ูุจุงูุฅุณูุงู ุฏููุงูุ ูุจูุญูุฏ ุตูู ุงููู ุนููู ูุณูู ูุจูุงู ๐ค",
    "ูุง ุญู ูุง ูููู ุจุฑุญูุชู ุฃุณุชุบูุซุ ุฃุตูุญ ูู ุดุฃูู ููู ููุง ุชูููู ุฅูู ููุณู ุทุฑูุฉ ุนูู ๐ค",
    "ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุชุ ุฎููุชูู ูุฃูุง ุนุจุฏูุ ูุฃูุง ุนูู ุนูุฏู ููุนุฏู ูุง ุงุณุชุทุนุช โฅ๏ธ",
    "ุงูููู ุฅูู ุฃุณุฃูู ุนููุงู ูุงูุนุงูุ ูุฑุฒูุงู ุทูุจุงูุ ูุนููุงู ูุชูุจูุงู ๐",
    "ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก ูู ุงูุฃุฑุถ ููุง ูู ุงูุณูุงุก ููู ุงูุณููุน ุงูุนููู ๐",
    "ุงูููู ุนุงููู ูู ุจุฏููุ ุงูููู ุนุงููู ูู ุณูุนูุ ุงูููู ุนุงููู ูู ุจุตุฑู ๐",
    "ุงูููู ุฅูู ุฃุณุฃูู ุงูุนูู ูุงูุนุงููุฉ ูู ุฏููู ูุฏููุงู ูุฃููู ููุงูู ๐ค",
    "ุฃุตุจุญูุง ุนูู ูุทุฑุฉ ุงูุฅุณูุงูุ ูุนูู ูููุฉ ุงูุฅุฎูุงุตุ ูุนูู ุฏูู ูุจููุง ูุญูุฏ ๐",
    "ุงูููู ุงุฌุนู ุตุจุงุญูุง ูุฐุง ุตุจุงุญุงู ูุจุงุฑูุงูุ ุชูุชุญ ููุง ููู ุฃุจูุงุจ ุฑุญูุชู ๐",
    "ุฑุจู ุฃุณุฃูู ูู ูุฐุง ุงูุตุจุงุญ ุฃู ุชุฑูุญ ููุจู ูููุฑู ๐",
    "ุญุณุจู ุงููู ูุง ุฅูู ุฅูุง ููุ ุนููู ุชูููุช ููู ุฑุจ ุงูุนุฑุด ุงูุนุธูู (7 ูุฑุงุช) ๐"
]


NIGHT_DUAS = [
    "ุงูููู ุจู ุฃูุณููุงุ ูุจู ุฃุตุจุญูุงุ ูุจู ูุญูุงุ ูุจู ูููุชุ ูุฅููู ุงููุตูุฑ ๐ค",
    "ุฃูุณููุง ูุฃูุณู ุงูููู ูููุ ูุงูุญูุฏ ูููุ ูุง ุฅูู ุฅูุง ุงููู ูุญุฏู ูุง ุดุฑูู ูู ๐ค",
    "ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุชุ ุฎููุชูู ูุฃูุง ุนุจุฏูุ ูุฃูุง ุนูู ุนูุฏู ููุนุฏู ูุง ุงุณุชุทุนุช ๐ค",
    "ุงูููู ุฅูู ุฃุณุฃูู ุงูุนูู ูุงูุนุงููุฉ ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ ๐",
    "ุงูููู ุงุณุชุฑ ุนูุฑุงุชู ูุขูู ุฑูุนุงุชูุ ุงูููู ุงุญูุธูู ูู ุจูู ูุฏู ููู ุฎููู ๐ค",
    "ุงูููู ุนุงููู ูู ุจุฏููุ ุงูููู ุนุงููู ูู ุณูุนูุ ุงูููู ุนุงููู ูู ุจุตุฑู ๐",
    "ุงูููู ุฅูู ุฃุนูุฐ ุจู ูู ุงูููุฑ ูุงูููุฑุ ูุฃุนูุฐ ุจู ูู ุนุฐุงุจ ุงููุจุฑ ๐ค",
    "ุญุณุจู ุงููู ูุง ุฅูู ุฅูุง ูู ุนููู ุชูููุช ููู ุฑุจ ุงูุนุฑุด ุงูุนุธูู ๐",
    "ุจุณู ุงููู ุงูุฐู ูุง ูุถุฑ ูุน ุงุณูู ุดูุก ูู ุงูุฃุฑุถ ููุง ูู ุงูุณูุงุก ๐ค",
    "ูุง ุญู ูุง ูููู ุจุฑุญูุชู ุฃุณุชุบูุซุ ุฃุตูุญ ูู ุดุฃูู ููู ููุง ุชูููู ุฅูู ููุณู ุทุฑูุฉ ุนูู ๐ค",
    "ุฃูุณููุง ุนูู ูุทุฑุฉ ุงูุฅุณูุงูุ ูุนูู ูููุฉ ุงูุฅุฎูุงุตุ ูุนูู ุฏูู ูุจููุง ูุญูุฏ ๐"
]

# --- [ 6. ุงูููุงุฑุฏ (ุงูุฑูุงุจุท ูุงูุงุณุชููุฑุงุช) ] ---
DEFAULT_RESOURCES = {
    "Fajr": {"name": "ุงููุฌุฑ", "vidid": "r9AWBlpantg", "link": "https://youtu.be/watch?v=r9AWBlpantg", "sticker": "CAACAgQAAyEFAATHCHTJAAIJD2lOq8aLkRR49evBKiITWWhwtgEoAALoGgACp_FYUQuzqVH-JHS5HgQ"},
    "Dhuhr": {"name": "ุงูุธูุฑ", "vidid": "21MuvFr7CK8", "link": "https://www.youtube.com/watch?v=21MuvFr7CK8", "sticker": "CAACAgQAAyEFAATHCHTJAAIJEWlOrFKzjSDZeWfl6U3F-lrKldRXAAJMGwACMVlYUa15CORC0p0xHgQ"},
    "Asr": {"name": "ุงูุนุตุฑ", "vidid": "bb6cNncMdiM", "link": "https://www.youtube.com/watch?v=bb6cNncMdiM", "sticker": "CAACAgQAAyEFAATHCHTJAAIJE2lOrFRQIbcdLfnpdl5PtbdqNyR6AALFGQAC3ZZRUcK5YivXbwUAAR4E"},
    "Maghrib": {"name": "ุงููุบุฑุจ", "vidid": "hKPcNh7WHoM", "link": "https://youtu.be/watch?v=hKPcNh7WHoM", "sticker": "CAACAgQAAyEFAATHCHTJAAIJFWlOrFT4eOnPJDsSuU6Ya-V0WPQdAALfFwACcIVQUX6NcNNCxvdRHgQ"},
    "Isha": {"name": "ุงูุนุดุงุก", "vidid": "hKPcNh7WHoM", "link": "https://youtu.be/watch?v=hKPcNh7WHoM", "sticker": "CAACAgQAAyEFAATHCHTJAAIJF2lOrFVxhRGefHki3d4s-hLC9cKHAALqHAAC3oZQUWqQdvdwXnGLHgQ"}
}

CURRENT_RESOURCES = DEFAULT_RESOURCES.copy()
CURRENT_DUA_STICKER = None
